<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta name="referrer" content="no-referrer" />
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"huangyuye.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="HYY">
<meta property="og:url" content="https://huangyuye.github.io/page/4/index.html">
<meta property="og:site_name" content="HYY">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="yuye Huang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://huangyuye.github.io/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>HYY</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HYY</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://huangyuye.github.io/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA/dos%E5%91%BD%E5%90%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yuye Huang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HYY">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA/dos%E5%91%BD%E5%90%8D/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-09 15:52:56" itemprop="dateCreated datePublished" datetime="2021-05-09T15:52:56+00:00">2021-05-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">知识库</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA/" itemprop="url" rel="index"><span itemprop="name">理解计算机</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="dos命令"><a href="#dos命令" class="headerlink" title="dos命令"></a>dos命令</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://huangyuye.github.io/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA/%E4%BA%92%E8%81%94%E7%BD%91%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yuye Huang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HYY">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA/%E4%BA%92%E8%81%94%E7%BD%91%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-09 15:52:56" itemprop="dateCreated datePublished" datetime="2021-05-09T15:52:56+00:00">2021-05-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">知识库</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA/" itemprop="url" rel="index"><span itemprop="name">理解计算机</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="互联网背景"><a href="#互联网背景" class="headerlink" title="互联网背景"></a>互联网背景</h2><p>我们每天都在使用互联网上网冲浪，而网站的资源是部署在另台机器上的，那么处于两地的主机是如何通信的呢？</p>
<p>互联网的核心是一系列协议，总称为“互联网协议”。他们对电脑如何连接和组网，做出了详尽的规定。主机之间通信的时候，正是因为都遵从了这一系列协议，消息才正常从一方送达至另一方，且正确的理解对方发送消息的含义。</p>
<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><h2 id="互联网分层模型"><a href="#互联网分层模型" class="headerlink" title="互联网分层模型"></a>互联网分层模型</h2><p>互联网的实现分为很多层级，用户接触到的，只是最上面一层，如在主机上使用的桌面应用，浏览器网站，每次简单的界面操作，实际涉及到消息从最上一层一直逐层传递到最底层。</p>
<p>分层模型有多种，较容易理解的是五层模型，由上至下分为以下层级：</p>
<ol>
<li>应用层（用户接触的）</li>
<li>传输层</li>
<li>网络层</li>
<li>链接层</li>
<li>实体层</li>
</ol>
<p>每一层都是为完成某种功能，而为实现这些功能，就需要共同遵从各层的规则，大家都遵从的规则，就叫做协议。</p>
<h2 id="实体层"><a href="#实体层" class="headerlink" title="实体层"></a>实体层</h2><p>电脑要组网，首先要将电脑连接起来（光缆、电缆、无线电波等方式）。这个层级的内容称为“实体层“，它是把电脑连接起来的物理手段。这一层级主要规定了网络的一些电气特征（描述电流、电压等），作用是负责传送0/1的电信号。</p>
<h2 id="链接层"><a href="#链接层" class="headerlink" title="链接层"></a>链接层</h2><h3 id="链接层的定义"><a href="#链接层的定义" class="headerlink" title="链接层的定义"></a>链接层的定义</h3><p>单纯的0/1电信号没有任何意义，必须规定解读方式：多少个电信号算一组？每个信号位有何意义？</p>
<p>链接层的功能就是为了确定电信号0和1的分组方式。</p>
<h3 id="链接层之以太网协议"><a href="#链接层之以太网协议" class="headerlink" title="链接层之以太网协议"></a>链接层之以太网协议</h3><p>以太网协议是其中一种，也是最主流的电信号分组方式。</p>
<p>以太网规定，一组电信号构成一个数据包，叫做”帧”（Frame）。每一帧分成两个部分：标头（Head）和数据（Data）。</p>
<p>“标头”的长度，固定为18字节。”数据”的长度，最短为46字节，最长为1500字节。因此，整个”帧”最短为64字节，最长为1518字节。如果数据很长，就必须分割成多个帧进行发送。</p>
<h3 id="链接层之MAC地址"><a href="#链接层之MAC地址" class="headerlink" title="链接层之MAC地址"></a>链接层之MAC地址</h3><p>发送者、接收者的标识：<strong>MAC地址</strong></p>
<p>以太网规定，连入网络的所有设备，都必须具有”网卡”接口。数据包必须是从一块网卡，传送到另一块网卡。网卡的地址，就是数据包的发送地址和接收地址，这叫做MAC地址。</p>
<p>MAC地址：machine access control </p>
<p>长度是12个十六进制数，即48个二进制位(2^4)</p>
<h3 id="链接层之广播"><a href="#链接层之广播" class="headerlink" title="链接层之广播"></a>链接层之广播</h3><p>假设以太网数据包已经知道了接收方的mac地址。获取方式见详见ARP协议</p>
<p>以太网使用一种广播的方式，向本网络内所有 计算机发送数据包，让每台计算机判断是否为接收方，若为接收方则处理数据包，否则丢弃。</p>
<p>判断是否为接收方的方式是对比数据包的标头中包含的目标mac地址是否与自身的mac地址相同</p>
<h3 id="链接层之ARP协议"><a href="#链接层之ARP协议" class="headerlink" title="链接层之ARP协议"></a>链接层之ARP协议</h3><p>（<code>Address Resolution Protocol</code>）ARP寻址是用在数据链路层上的。我们上网的电脑都有网卡。那么在数据链路层的进行传递的时候，是没有IP的概念，都是通过找到对端设备的硬件地址，也就是网卡地址来做传输。这个硬件地址标准称为MAC地址。寻找对方MAC地址的过程就是ARP寻址。</p>
<p>示例：局域网内，从192.168.0.5来ping下192.168.0.8。得到交互流程如下。</p>
<p>1 首先是一个ARP广播报文，由192.168.0.5发出，可以看到带的广播报文是who has 192.168.0.8 tell 192.168.0.5 （目标<code>MAC地址</code>是<code>FF-FF-FF-FF-FF-FF</code>）</p>
<p>2 随后192.168.0.8回复 192.168.0.8 is at 00:0C:29:DE:DF:87</p>
<p>3 找到MAC地址后，随后就是ping报文</p>
<p>计算机中会维护一个ARP缓存表（包含一个<code>寿命值</code>TTL，也称作生存时间），这个表记录着IP地址与MAC地址的映射关系，我们可以通过在电脑的控制台通过arp -a指令查看一下我们自己计算机的ARP缓存表。他们是主机<code>最近</code>运行时获得关于其他主机的<code>IP地址</code>到<code>MAC地址</code>的映射，当需要发送数据的时候，主机就会根据数据报中的<code>目标IP地址</code>信息，然后在ARP缓存表中进行查找对应的<code>MAC地址</code>，最后通过<strong>网卡</strong>将数据发送出去。</p>
<p>如果两台主机不在同一个子网络，那么事实上没有办法得到对方的MAC地址，只能把数据包传送到两个子网络连接处的”网关”（gateway），让网关去处理。</p>
<p><strong>ARP协议的主要工作就是建立、查询、更新、删除ARP表项。</strong></p>
<h2 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h2><h3 id="网络层之由来"><a href="#网络层之由来" class="headerlink" title="网络层之由来"></a>网络层之由来</h3><p>以太网采用广播方式发送数据包，所有成员人手一”包”，不仅效率低，而且局限在发送者所在的子网络。也就是说，如果两台计算机不在同一个子网络，广播是传不过去的。</p>
<p>如果是同一个子网络，就采用广播方式发送，否则就采用”路由”方式发送。MAC地址本身无法做到这一点。它只与厂商有关，与所处网络无关。所以就引出了“网络层”之“网络地址”的出现。</p>
<p>网络地址是管理员分配的，mac地址是绑定在网卡上的。</p>
<p>网络地址帮助我们确定计算机所在的子网络，MAC地址则将数据包送到该子网络中的目标网卡。即需先处理网络地址，然后再处理MAC地址。</p>
<h3 id="网络层之IP地址"><a href="#网络层之IP地址" class="headerlink" title="网络层之IP地址"></a>网络层之IP地址</h3><p>规定网络地址的协议，叫做IP协议。它所定义的地址，就被称为IP地址。</p>
<p>网络地址/IP地址：IP协议第四版IPv4规定地址由32个二进制位组成，习惯上分为四段十进制数。</p>
<p>IP地址包含网络部分和主机部分。处于同一个自网络的主机，IP地址的网络部分必定相同。那如何判断网络部分呢？使用子网掩码，网络部分为1，主机部分为0。</p>
<p>判断任意两个IP地址是否处在同一个子网络。方法是将两个IP地址与子网掩码分别进行AND运算（两个数位都为1，运算结果为1，否则为0），然后比较结果是否相同，如果是的话，就表明它们在同一个子网络中，否则就不是。</p>
<h2 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h2><h3 id="传输层之由来"><a href="#传输层之由来" class="headerlink" title="传输层之由来"></a>传输层之由来</h3><p>有了MAC地址和IP地址，我们已经可以在互联网上任意两台主机上建立通信。但是每台主机上又运行着多个应用程序，那如何知道数据包是发送到哪个应用程序上的呢？也就是说，我们还需要一个参数，表示这个数据包到底供哪个程序（进程）使用。这个参数就叫做”端口”（port），它其实是每一个使用网卡的程序的编号。</p>
<p><strong>“传输层”的功能，就是建立”端口到端口”的通信。相比之下，”网络层”的功能是建立”主机到主机”的通信。只要确定主机和端口，我们就能实现程序之间的交流。</strong></p>
<p>“端口”是0到65535之间的一个整数，正好16个二进制位。0到1023的端口被系统占用，用户只能选用大于1023的端口。</p>
<h3 id="传输层之TCP-amp-UDP协议"><a href="#传输层之TCP-amp-UDP协议" class="headerlink" title="传输层之TCP&amp;UDP协议"></a>传输层之TCP&amp;UDP协议</h3><p>UDP协议的优点是比较简单，容易实现，但是缺点是可靠性较差，一旦数据包发出，无法知道对方是否收到。</p>
<p>TCP协议能够确保数据不会遗失。它的缺点是过程复杂、实现困难、消耗较多的资源。</p>
<h2 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h2><p>应用程序收到”传输层”的数据，接下来就要进行解读。由于互联网是开放架构，数据来源五花八门，必须事先规定好格式，否则根本无法解读。</p>
<p><strong>“应用层”的作用，就是规定应用程序的数据格式。</strong></p>
<h2 id="数据包最终组成"><a href="#数据包最终组成" class="headerlink" title="数据包最终组成"></a>数据包最终组成</h2><p><img src="%5Bhttps://gitee.com/huangyuye/Self-DocBlog/blob/master/%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA/%E6%95%B0%E6%8D%AE%E5%8C%85.png%5D(https://gitee.com/huangyuye/Self-DocBlog/blob/master/%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA/%E6%95%B0%E6%8D%AE%E5%8C%85.png" alt="avatar"></p>
<h2 id="新计算机上网设置"><a href="#新计算机上网设置" class="headerlink" title="新计算机上网设置"></a>新计算机上网设置</h2><ul>
<li><p>本机的IP地址</p>
</li>
<li><p>子网掩码</p>
</li>
<li><p>网关的IP地址</p>
</li>
<li><p>DNS的IP地址</p>
</li>
</ul>
<h3 id="动态IP地址"><a href="#动态IP地址" class="headerlink" title="动态IP地址"></a>动态IP地址</h3><p>“动态IP地址”，指计算机开机后，会自动分配到一个IP地址，不用人为设定。它使用的协议叫做<a target="_blank" rel="noopener" href="http://zh.wikipedia.org/zh/DHCP">DHCP协议</a>。</p>
<p>这个协议规定，每一个子网络中，有一台计算机负责管理本网络的所有IP地址，它叫做”DHCP服务器”。新的计算机加入网络，必须向”DHCP服务器”发送一个”DHCP请求”数据包，申请IP地址和相关的网络参数。</p>
<p>但是局域网内的计算机发送数据包，必须知道目标主机的MAC地址和IP地址，新加入的计算机不知道DHCP服务器的这两个地址，怎么发送数据包呢？</p>
<p>DHCP协议做了一些巧妙的规定，规定如下：</p>
<p>首先，DHCP协议是一种<strong>应用层</strong>协议，建议在UDP之上。DHCP‘应用数据包组成为</p>
<p>（1）最前面的”以太网标头”，设置发出方（本机）的MAC地址和接收方（DHCP服务器）的MAC地址。前者就是本机网卡的MAC地址，后者这时不知道，就填入一个广播MAC地址：FF-FF-FF-FF-FF-FF。</p>
<p>（2）后面的”IP标头”，设置发出方的IP地址和接收方的IP地址。这时，对于这两者，本机都不知道。于是，发出方的IP地址就设为0.0.0.0，接收方的IP地址设为255.255.255.255。</p>
<p>（3）最后的”UDP标头”，设置发出方的端口和接收方的端口。这一部分是DHCP协议规定好的，发出方是68端口，接收方是67端口。</p>
<p>数据包构造完成发出，流程如下：</p>
<p>因为接收方的MAC地址是FF-FF-FF-FF-FF-FF，看不出是发给谁的，所以每台收到这个包的计算机，还必须分析这个包的IP地址，才能确定是不是发给自己的。当看到发出方IP地址是0.0.0.0，接收方是255.255.255.255，于是DHCP服务器知道”这个包是发给我的”，而其他计算机就可以丢弃这个包。</p>
<p>接下来，DHCP服务器读出这个包的数据内容，分配好IP地址，发送回去一个”DHCP响应”数据包。这个响应包的结构也是类似的，以太网标头的<strong>MAC地址</strong>是双方的网卡地址，IP标头的IP地址是DHCP服务器的IP地址（发出方）和255.255.255.255（接收方），UDP标头的端口是67（发出方）和68（接收方），分配给请求端的IP地址和本网络的具体参数则包含在Data部分。</p>
<p>新加入的计算机收到这个响应包，于是就知道了自己的IP地址、子网掩码、网关地址、DNS服务器等等参数。</p>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p>阮一峰—互联网协议入门：</p>
<p><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html">http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html</a></p>
<p><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2012/06/internet_protocol_suite_part_ii.html">http://www.ruanyifeng.com/blog/2012/06/internet_protocol_suite_part_ii.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://huangyuye.github.io/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/idea%20+%20http/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yuye Huang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HYY">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/idea%20+%20http/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-09 15:52:56" itemprop="dateCreated datePublished" datetime="2021-05-09T15:52:56+00:00">2021-05-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">知识库</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">软件开发流程</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="IDEA接口调试工具"><a href="#IDEA接口调试工具" class="headerlink" title="IDEA接口调试工具"></a>IDEA接口调试工具</h2><h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000021714448">https://segmentfault.com/a/1190000021714448</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://huangyuye.github.io/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B%E5%AE%9E%E8%B7%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yuye Huang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HYY">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B%E5%AE%9E%E8%B7%B5/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-09 15:52:56" itemprop="dateCreated datePublished" datetime="2021-05-09T15:52:56+00:00">2021-05-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">知识库</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">软件开发流程</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li>使用xmind编写简略的需求分析方案<ol>
<li>前后端交互设计&amp;流程说明</li>
<li>领域模型拆解</li>
<li>接口设计：新增/修改接口</li>
<li>数据结构设计（数据格式预定义及输出）</li>
</ol>
</li>
<li>使用processon绘制流程图</li>
<li>接口定义&amp;开发&amp;单测<ol>
<li>编写 Json 数据<ol>
<li>notepad++</li>
<li>在线：<a target="_blank" rel="noopener" href="https://jsoneditoronline.org/">https://jsoneditoronline.org/</a></li>
<li><strong>数据库存储需求</strong>：在线将json数据压缩成一行</li>
</ol>
</li>
<li>GsonFormat根据json数据生成实体对象（新建类 -&gt; Alt + Insert）</li>
</ol>
</li>
<li>接口文档输出（或数据格式预定义及输出）</li>
<li>接口前后端联调</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://huangyuye.github.io/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87/20201108-%E7%AE%80%E5%8E%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yuye Huang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HYY">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87/20201108-%E7%AE%80%E5%8E%86/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-09 15:52:56" itemprop="dateCreated datePublished" datetime="2021-05-09T15:52:56+00:00">2021-05-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">知识库</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index"><span itemprop="name">面试</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简历工具"><a href="#简历工具" class="headerlink" title="简历工具"></a>简历工具</h2><ul>
<li>超级简历</li>
<li>五百丁</li>
</ul>
<h3 id="简历内容"><a href="#简历内容" class="headerlink" title="简历内容"></a>简历内容</h3><h4 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h4><p>姓名、性别、联系方式、1寸照</p>
<p>居住地、期望地</p>
<h4 id="项目经验"><a href="#项目经验" class="headerlink" title="项目经验"></a>项目经验</h4><h5 id="怎么写？"><a href="#怎么写？" class="headerlink" title="怎么写？"></a>怎么写？</h5><p>参照STAR法则来写项目经验；STAR法则,即为Situation Task Action Result的缩写，具体含义是</p>
<ul>
<li>Situation: 事情是在什么情况下发生</li>
<li>Task: 你是如何明确你的任务的</li>
<li>Action: 针对这样的情况分析，你采用了什么行动方式</li>
<li>Result: 结果怎样，在这样的情况下你学习到了什么</li>
</ul>
<p>简而言之，STAR法则，就是一种讲述自己故事的方式，或者说，是一个清晰、条理的作文模板。不管是什么，合理熟练运用此法则，可以轻松的对面试官描述事物的逻辑方式，表现出自己分析阐述问题的清晰性、条理性和逻辑性。</p>
<p><strong>关注点</strong></p>
<ul>
<li><p>效力公司</p>
</li>
<li><p>行业领域</p>
</li>
<li><p>擅长的技术语言</p>
</li>
<li><p>项目复杂度，承担角色与角色变化(人的变化/技术的变化/环境的变化/不同工作经历相同角色的不同点)</p>
</li>
<li><p>时间节点</p>
</li>
</ul>
<p><strong>示例</strong></p>
<p>[公司名] [岗位] [时间]</p>
<p>[项目名称]</p>
<p>[项目介绍]</p>
<p>[负责内容]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">厦门南讯软件科技有限公司 Java研发工程师 2016.11月-至今</span><br><span class="line">1、ECRP项目组基础框架</span><br><span class="line">- 项目说明：Springboot项目开发的脚手架，提供一套完整的工具，快速处理问题与项目构建</span><br><span class="line">- 项目背景——项目组实施过程存在以下问题：</span><br><span class="line">	a.个人实施项目多，项目交付时间紧张，新员工入门较慢</span><br><span class="line">	b.多个项目中使用的技术框架不一致，需要集成组件功能时需重新开发，且集成方式多种多样。需要重新了解并调配组件参数</span><br><span class="line">	c.规范、工具多项目组未统一，资源不共享</span><br><span class="line">以上问题，往往又会导致项目实施周期延长，项目交接困难，项目模块集成困难等问题；因此，搭建了一个个开项目基础框架，集成了常用的组件、功能，用于后期项目实施快速开发使用。</span><br><span class="line">- 工作内容：负责基础框架底层搭建，组件开发，开发规范定义。输出框架&amp;规范文档，进行团队分享，推进实行</span><br><span class="line">- 技术栈：springboot，redis、mq、es、swagger、springboot-admin应用监控、jasypt配置文件加解密工具</span><br><span class="line">- 项目现状：目前基础框架分为两个工程，基础依赖模块与项目实施模块；项目实施模块包括web模块、任务调度模块以及应用监控模块。项目组使用项目实施模块开发过程中可按需引用基础依赖模块中的组件依赖。</span><br><span class="line">- 项目效果：ECRP项目组基础框架在公司项目团队中被广泛使用，且已作为杭州项目研发团队的入职必备文档。通过使用基础框架开发，提升了项目实施效率，缩短项目实施开发周期，大大的降低项目开发成本。</span><br><span class="line"></span><br><span class="line">2、ECRP储值系统</span><br><span class="line">- 工作内容：</span><br><span class="line">	- 负责储值系统开放平台开发，独自搭建底层框架，通过引入用户验证与鉴权、服务报文加解密处理，API请求限流等各种服务的访问安全控制，分布式锁，提高交易的安全性与正确性；引入自动化生成sdk模板代码的工具，提升开发效率。</span><br><span class="line">	- 使用redis自建延时异步通知系统，储值交易后分时段异步回调，避免网络丢包造成用户损失。</span><br><span class="line">- 技术栈：vue、springboot、redis、es</span><br><span class="line">- powerdesigner建模工具分享，开发流程分享</span><br><span class="line"></span><br><span class="line">3、ECRP导购系统</span><br><span class="line">- 工作内容：</span><br><span class="line">	- 遵循规范化开发标准，对系统底层进行重构，通过不断的抽取与整合代码，优化代码质量，为团队后续的开发提供了便利。</span><br><span class="line">	- 优化应用发布流程，大大缩短多环境下模块工程的构建时长</span><br><span class="line">	- git常见场景开发技巧分享，提高团队协作质量</span><br><span class="line">	- 单元测试实践，团队内部推行，提高代码质量</span><br><span class="line">- 技术栈：vue、springboot、redis、easyexcel、sls</span><br></pre></td></tr></table></figure>



<h4 id="专业技能"><a href="#专业技能" class="headerlink" title="专业技能"></a>专业技能</h4><ol>
<li>熟悉java基础与部分设计模式</li>
<li>熟悉spring&amp;springBoot框架的使用及熟悉相关原理</li>
<li>熟悉使用redis缓存技术，activemq等三方中间件</li>
<li>熟悉使用mysql</li>
<li>熟悉Maven工程模块的管理</li>
<li>掌握Linux 操作系统命令</li>
</ol>
<h4 id="工作期望-amp-个人评价"><a href="#工作期望-amp-个人评价" class="headerlink" title="工作期望&amp;个人评价"></a>工作期望&amp;个人评价</h4><ul>
<li>对自己有一个全方位的一个描述总结，让别人更好的解读你。或者在此处，高亮你的优点特长有哪些。</li>
<li>即使不写个人评价，也一定记得写上工作期望。</li>
</ul>
<p><strong>个人评价</strong></p>
<p>1、专注于工作，做得比说得好。（换一个角度说自己的缺点）</p>
<p>2、课上是认真专注的，课间是爱开玩笑的，课下是爱学习的。</p>
<p>3、优势：热爱技术、自学能力强，有良好的自我认知。有良好的心态、情商与沟通能力。</p>
<p>4、工作态度：第一,要高效完成自己的本职工作。第二,要在完成的基础上寻找完美。第三,要在完美的基础上,与其他同事 互相交流学习,互相提升。工作是一种生活方式,不是一份养家糊口的差事。</p>
<p>课上认真专注，课间爱开玩笑，课下爱好学习；有能力完全胜任本职工作，平时工作中能够协助同事解决技术难题。</p>
<p><strong>工作期望</strong></p>
<p>1、定位：主攻后端，可在其他方面打打辅助。</p>
<p>2、爱好新鲜与激情的血液，希望在新环境中能重拾与保持初入职场时的朝气与干劲，只为能成为更优秀的同学。（能够在交流的同时反思自己的不足，且术业有专攻，再年轻的程序员身上也有值得你学习的地方）</p>
<p>3、期望能与一群优秀的同僚共事，互相交流学习，互相提升。（想做垫底的那位同学，因为想进步，不够优秀）</p>
<h4 id="教育经历"><a href="#教育经历" class="headerlink" title="教育经历"></a>教育经历</h4><p>中国计量大学 - 通信工程专业    2013.9月 - 2017.6月</p>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><p>1、CET4：542</p>
<p>2、获奖：在校获得两次奖学金；在南讯获得三次优秀员工表彰（团队-多次优秀团队表彰）</p>
<p>3、代码：模块功能新对接平台类型仅花2小时对接；编写的代码曾在公司团队作为优秀代码分享；</p>
<h3 id="AARRR-amp-RARRA"><a href="#AARRR-amp-RARRA" class="headerlink" title="AARRR &amp; RARRA"></a>AARRR &amp; RARRA</h3><h3 id="公司介绍"><a href="#公司介绍" class="headerlink" title="公司介绍"></a>公司介绍</h3><p>为大消费领域的企业提供数据化的客户资源管理云服务解决方案</p>
<p>帮助企业建立品牌体验、客户深度洞察、数据营销体系，最终帮助企业完成以用户为中心的运营模式转型</p>
<h4 id="客道云"><a href="#客道云" class="headerlink" title="客道云"></a>客道云</h4><p>零售企业全渠道管理平台</p>
<p>提供全渠道数据清洗整合服务，统一运营，统一工具，统一会员    </p>
<p><strong>能力</strong></p>
<p>全渠道数据报表呈现</p>
<p>可视化数据洞察</p>
<p>数据决策支撑</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://huangyuye.github.io/2021/05/09/Java/%E7%AC%94%E8%AE%B0/%E5%AE%B9%E5%99%A8/%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yuye Huang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HYY">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/Java/%E7%AC%94%E8%AE%B0/%E5%AE%B9%E5%99%A8/%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">JAVA 容器</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-09 15:52:56" itemprop="dateCreated datePublished" datetime="2021-05-09T15:52:56+00:00">2021-05-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><h3 id="集合概述"><a href="#集合概述" class="headerlink" title="集合概述"></a>集合概述</h3><p><img src="https://cdn.jsdelivr.net/gh/huangyuye/huangyuye.github.io@data/img/java-collection-hierarchy.png" alt="img"></p>
<p><a target="_blank" rel="noopener" href="https://www.javatpoint.com/collections-in-java">https://www.javatpoint.com/collections-in-java</a></p>
<ul>
<li><strong>Queue</strong> [kju]<ul>
<li>增删查<ul>
<li>添加（add/offer）：容量超过限制，返回false还是抛异常——抛异常处理更加耗时，offer直接返回false的方式更好</li>
<li>删除（remove/poll）：空队列，remove抛异常，poll返回null</li>
<li>查看（element/peek）：空队列，element抛异常，peek返回null</li>
</ul>
</li>
<li><strong>Deque</strong>（double-ended queue，双端队列）</li>
<li>实现<ul>
<li><code>PriorityQueue</code>  implements Queue</li>
<li><code>ArrayDequq</code> implements Deque</li>
<li><code>LinkedList</code> implements List, Deque</li>
</ul>
</li>
</ul>
</li>
<li><strong>Set</strong><ul>
<li><code>HashSet</code>：implements Set，且底层使用HashMap使用<ul>
<li><code>LinkedHashSet</code> extends HashSet implements Set ，底层是LinkedHashMap，能够按照添加的顺序遍历；</li>
</ul>
</li>
<li><code>TreeSet</code> implements NavigableSet（SortedSet）<ul>
<li>底层使用红黑树，能够按照添加元素的顺序进行遍历，排序的方式有自然排序和定制排序。</li>
</ul>
</li>
</ul>
</li>
<li><strong>List</strong><ul>
<li>ArrayList</li>
<li><code>LinkedList</code> implements List, Deque，支持双端操作的线性表<ul>
<li>双向链表(JDK1.6 之前为循环链表，JDK1.7 取消了循环)</li>
<li>Vector 和 Stack 已过时</li>
</ul>
</li>
</ul>
</li>
<li><strong>Map</strong><ul>
<li>HashMap：JDK1.8之后使用了数组+链表+红黑树<ul>
<li>当链表长度大于阈值（默认为 8）（将链表转换成红黑树前会判断，如果当前数组的长度小于 64，那么会选择先进行数组扩容，而不是转换为红黑树）时，将链表转化为红黑树，以减少搜索时间</li>
</ul>
</li>
<li>LinkedHashMap：在HashMap底层结构的基础上，增加了一条双向链表，使得上面的结构可以保持键值对的插入顺序。</li>
<li>Hashtable： 数组+链表组成（拉链法解决哈希冲突）已过期</li>
<li><strong><code>TreeMap</code></strong> implements NavigableMap&lt;K,V&gt;（SortedMap） ：红黑树（自平衡的排序二叉树）</li>
</ul>
</li>
</ul>
<p><strong>为什么要使用集合？替代数组，提高了数组存储的灵活性</strong>：不仅可以用来存储不同类型不同数量的对象，还可以保存具有映射关系的数据。</p>
<p><strong>如何选用集合？</strong></p>
<ul>
<li><code>List</code>(对付顺序的好帮手)： 存储的元素是有序的、可重复的。</li>
<li><code>Set</code>(注重独一无二的性质): 存储的元素是无序的、不可重复的。</li>
<li><code>Map</code>(用 Key 来搜索的专家): 使用键值对（key-value）存储，类似于数学上的函数 y=f(x)，“x”代表 key，”y”代表 value，Key 是无序的、不可重复的，value 是无序的、可重复的，每个键最多映射到一个值。</li>
</ul>
<h3 id="集合之List"><a href="#集合之List" class="headerlink" title="集合之List"></a>集合之List</h3><h3 id="集合之Set"><a href="#集合之Set" class="headerlink" title="集合之Set"></a>集合之Set</h3><h3 id="Map接口"><a href="#Map接口" class="headerlink" title="Map接口"></a>Map接口</h3><h3 id="Collections工具使用"><a href="#Collections工具使用" class="headerlink" title="Collections工具使用"></a>Collections工具使用</h3><h4 id="排序操作"><a href="#排序操作" class="headerlink" title="排序操作"></a>排序操作</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">(List list)</span><span class="comment">//反转</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shuffle</span><span class="params">(List list)</span><span class="comment">//随机排序</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(List list)</span><span class="comment">//按自然排序的升序排序</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(List list, Comparator c)</span><span class="comment">//定制排序，由Comparator控制排序逻辑</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(List list, <span class="keyword">int</span> i , <span class="keyword">int</span> j)</span><span class="comment">//交换两个索引位置的元素</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rotate</span><span class="params">(List list, <span class="keyword">int</span> distance)</span><span class="comment">//旋转。当distance为正数时，将list后distance个元素整体移到前面。当distance为负数时，将 list的前distance个元素整体移到后面</span></span></span><br></pre></td></tr></table></figure>

<h4 id="查找-替换操作"><a href="#查找-替换操作" class="headerlink" title="查找,替换操作"></a>查找,替换操作</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(List list, Object key)</span><span class="comment">//对List进行二分查找，返回索引，注意List必须是有序的</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">(Collection coll)</span><span class="comment">//根据元素的自然顺序，返回最大的元素。 类比int min(Collection coll)</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">(Collection coll, Comparator c)</span><span class="comment">//根据定制排序，返回最大元素，排序规则由Comparatator类控制。类比int min(Collection coll, Comparator c)</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fill</span><span class="params">(List list, Object obj)</span><span class="comment">//用指定的元素代替指定list中的所有元素。</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">frequency</span><span class="params">(Collection c, Object o)</span><span class="comment">//统计元素出现次数</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">indexOfSubList</span><span class="params">(List list, List target)</span><span class="comment">//统计target在list中第一次出现的索引，找不到则返回-1，类比int lastIndexOfSubList(List source, list target).</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">replaceAll</span><span class="params">(List list, Object oldVal, Object newVal)</span>, 用新元素替换旧元素</span></span><br></pre></td></tr></table></figure>

<h4 id="同步控制"><a href="#同步控制" class="headerlink" title="同步控制"></a>同步控制</h4><p>不推荐，需要线程安全的集合类型时请考虑使用 JUC 包下的并发集合</p>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="容器之间对比方面（如比较ArrayList和LinkedList）"><a href="#容器之间对比方面（如比较ArrayList和LinkedList）" class="headerlink" title="容器之间对比方面（如比较ArrayList和LinkedList）"></a>容器之间对比方面（如比较ArrayList和LinkedList）</h3><ul>
<li>底层数据结构（数组vs链表）</li>
<li>操作的时间复杂度（增删查）</li>
<li>内存空间占用/容量</li>
<li>是否支持随机访问（数组vs非数组）</li>
<li>线程安全（底层同步锁）</li>
<li>效率</li>
</ul>
<p>内存空间占用：如ArrayList 的空间浪费主要体现在在 list 列表的结尾会预留一定的容量空间，而 LinkedList 的空间花费则体现在它的每一个元素都需要消耗比 ArrayList 更多的空间（因为要存放直接后继和直接前驱以及数据）。</p>
<h3 id="ArrayList的容量"><a href="#ArrayList的容量" class="headerlink" title="ArrayList的容量"></a><strong>ArrayList的容量</strong></h3><h4 id="最大容量"><a href="#最大容量" class="headerlink" title="最大容量"></a>最大容量</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * The maximum size of array to allocate.</span></span><br><span class="line"><span class="comment">    * Some VMs reserve some header words in an array.</span></span><br><span class="line"><span class="comment">    * Attempts to allocate larger arrays may result in</span></span><br><span class="line"><span class="comment">    * OutOfMemoryError: Requested array size exceeds VM limit</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_ARRAY_SIZE = Integer.MAX_VALUE - <span class="number">8</span>;</span><br></pre></td></tr></table></figure>

<h4 id="扩容"><a href="#扩容" class="headerlink" title="扩容"></a>扩容</h4><p>向 ArrayList 添加大量元素之前最好先使用<code>ensureCapacity</code> 方法，以减少增量重新分配的次数</p>
<h4 id="扩容倍数"><a href="#扩容倍数" class="headerlink" title="扩容倍数"></a>扩容倍数</h4><p>扩容时会指定目标容量，优先将新容量更新为旧容量的1.5倍；若容量还是不够，则取扩容目标容量minCapacity</p>
<h4 id="负载因子"><a href="#负载因子" class="headerlink" title="负载因子"></a>负载因子</h4><p>ArrayList没有负载因子</p>
<h3 id="idea-查看UML类图"><a href="#idea-查看UML类图" class="headerlink" title="idea 查看UML类图"></a>idea 查看UML类图</h3><p>右键类 -&gt; Diagrams -&gt; show diagram 查看UML类图</p>
<h3 id="对象比较"><a href="#对象比较" class="headerlink" title="对象比较"></a>对象比较</h3><ul>
<li><code>java.lang.Comparable</code> ：compareTo(Object obj) 声明<strong>自身与其他</strong>对象的比较逻辑</li>
<li> <code>java.util.Comparator</code>：compare(Object o1, Object o2) 比较器，用于定制相同类型的<strong>任意两个</strong>对象比较的逻辑</li>
</ul>
<h3 id="LinkedList-底层结构"><a href="#LinkedList-底层结构" class="headerlink" title="LinkedList 底层结构"></a>LinkedList 底层结构</h3><ul>
<li>jdk1.7优化：<ul>
<li>jdk1.6需要初始化header Entry对象，浪费空间</li>
</ul>
</li>
</ul>
<h3 id="hashCode-与-equals-的相关规定："><a href="#hashCode-与-equals-的相关规定：" class="headerlink" title="hashCode()与 equals() 的相关规定："></a><strong><code>hashCode()</code>与 <code>equals()</code> 的相关规定：</strong></h3><ol>
<li>如果两个对象相等，则 <code>hashcode</code> 一定也是相同的</li>
<li>两个对象相等,对两个 <code>equals()</code> 方法返回 true</li>
<li>两个对象有相同的 <code>hashcode</code> 值，它们也不一定是相等的</li>
<li>综上，<code>equals()</code> 方法被覆盖过，则 <code>hashCode()</code> 方法也必须被覆盖</li>
<li><code>hashCode() </code>的默认行为是对堆上的对象产生独特值。如果没有重写 <code>hashCode()</code>，则该 class 的两个对象无论如何都不会相等（即使这两个对象指向相同的数据）。</li>
</ol>
<h3 id="HashMap的底层实现"><a href="#HashMap的底层实现" class="headerlink" title="HashMap的底层实现"></a>HashMap的底层实现</h3><ul>
<li><p>jdk1.8之前</p>
<ul>
<li>底层数据结构：数组+链表</li>
<li><strong>putVal：</strong><code>头插法</code>插入链表表头</li>
</ul>
</li>
<li><p>jdk1.8之后</p>
<ul>
<li>当链表长度大于阈值（默认为 8）（将链表转换成红黑树前会判断，如果当前数组的长度小于 64，那么会选择先进行数组扩容，而不是转换为红黑树）时，将链表转化为红黑树，以减少搜索时间。</li>
<li>红黑树是为了解决二叉查找树的缺陷，因为二叉查找树在某些情况下会退化成一个线性结构。</li>
<li><strong>putVal：</strong><code>尾插法</code>插入链表表头</li>
</ul>
</li>
<li><p>putVal</p>
<ul>
<li>(n-1) &amp; hash判断当前元素存放位置（n为数组长度）</li>
<li>判断相同位置元素的hash值和key值是否相同，相同则覆盖；不相同则通过拉链法解决冲突<ul>
<li>所谓 <strong>“拉链法”</strong> 就是：将链表和数组相结合。也就是说创建一个链表数组，数组中每一格就是一个链表。若遇到哈希冲突，则将冲突的值加到链表中即可。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>HashMap的容量是 2 的幂次方</strong></p>
<ul>
<li><p>扩容机制：resize</p>
<ul>
<li>进行扩容，会伴随着一次重新 hash 分配，并且会遍历 hash 表中所有的元素，是非常耗时的。在编写程序中，要尽量避免 resize。</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/LLF_1241352445/article/details/81321991">HashMap的容量为什么是2的幂次方？</a></p>
<ul>
<li>对象计算的hash值，范围值很大，不能直接用作数组下标，所以需要将hash值对数组长度n做取模操作后得到余数作为数组下标，而取模运算为：<code>(n - 1) &amp; hash</code>（<strong>那为什么取模不是用的%符号呢</strong>）</li>
</ul>
<ol>
<li><p>选用该算法是因为使用位运算是特别高效的运算</p>
<ol>
<li>取余(%)操作中如果除数是 2 的幂次则等价于与其除数减一的与(&amp;)操作（也就是说 hash%length==hash&amp;(length-1)的前提是 length 是 2 的 n 次方；）。” 并且 采用二进制位操作 &amp;，相对于%能够提高运算效率，这就解释了 HashMap 的长度为什么是 2 的幂次方。</li>
</ol>
</li>
<li><p>基于条件1，当HashMap的容量是16时，它的二进制是10000，(n-1)的二进制是01111，这样可以使得不同的hash值，和(n-1)进行位运算后，能够得出不同的值（1&amp;1=1，<strong>1&amp;0=0，0&amp;0=0</strong>）。可以使得添加的元素均匀分布在HashMap中的数组上，减少hash碰撞，避免形成链表的结构，使得查询效率降低！</p>
<ol>
<li>如果hash table[]的尺寸很小，比如只有2个，如果要放进10个keys的话，那么碰撞非常频繁，于是一个O(1)的查找算法，就变成了链表遍历，性能变成了O(n)</li>
</ol>
</li>
</ol>
</li>
<li><p><a target="_blank" rel="noopener" href="https://coolshell.cn/articles/9606.html">多线程操作死循环问题</a> </p>
<ul>
<li><p>1.8之前，并发下的 Rehash 会造成元素之间会形成一个循环链表</p>
<ul>
<li><p>1.8之前，hash桶的链表节点使用的是**<code>头插法</code>**插入到链表中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEntry</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">int</span> bucketIndex)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Entry&lt;K,V&gt; e = table[bucketIndex];</span><br><span class="line">    table[bucketIndex] = <span class="keyword">new</span> Entry&lt;K,V&gt;(hash, key, value, e);</span><br><span class="line">    <span class="comment">//查看当前的size是否超过了我们设定的阈值threshold，如果超过，需要resize</span></span><br><span class="line">    <span class="keyword">if</span> (size++ &gt;= threshold)</span><br><span class="line">        resize(<span class="number">2</span> * table.length);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></li>
<li><p>新旧数组链表元素迁移：</p>
<ul>
<li><p>假设旧数组中某元素指向的链表节点为：node1-node2-node3，则迁移到新数组中链表节点的变化情况为：（假设数组容量为4）</p>
<ul>
<li>第一次loop迁移：node1</li>
<li>第二次loop迁移：node2-node1</li>
<li>第三次loop迁移：node3-node2-node1</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/huangyuye/huangyuye.github.io@data/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210425174828.jpg"></p>
</li>
</ul>
</li>
<li><p>Hash表这个容器当有数据要插入时，都会检查容量有没有超过设定的thredhold，如果超过，需要增大Hash表的尺寸，但是这样一来，整个Hash表里的无素都需要被重算一遍。这叫rehash，这个成本相当的大。</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>HashMap的N种遍历方式：</p>
</li>
<li><p>负载因子loadFactor</p>
<ul>
<li>loadFactor越趋近于1，那么 数组中存放的数据(entry)也就越多，也就越密，会导致查找元素效率低</li>
<li>太小导致数组的利用率低，存放的数据会很分散</li>
</ul>
</li>
<li><p>查询效率</p>
<ul>
<li>数组的查询效率为O(1)，链表的查询效率是O(n)，红黑树的查询效率是O(log n)，n为桶中的元素个数。</li>
<li>所以当位于链表中的结点过多，显然通过key值依次查找效率就太低了。因此JDK1.8在解决哈希冲突时有了较大的变化，<strong>当链表长度大于阈值（默认为8）时，将链表转化为红黑树</strong>，以提高查询效率。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="ConcurrentHashMap"><a href="#ConcurrentHashMap" class="headerlink" title="ConcurrentHashMap"></a>ConcurrentHashMap</h3><ul>
<li>JDK1.8之前<ul>
<li><strong><code>Segment</code> 数组结构和 <code>HashEntry</code> 数组结构组成</strong><ul>
<li>Segment 实现了 <code>ReentrantLock</code>,所以 <code>Segment</code> 是一种可重入锁，扮演锁的角色。</li>
</ul>
</li>
</ul>
</li>
<li>JDK1.8<ul>
<li>取消了 <code>Segment</code> 分段锁，采用 CAS 和 <code>synchronized</code> 来保证并发安全</li>
<li><code>synchronized</code> 只锁定当前链表或红黑二叉树的首节点，这样只要 hash 不冲突，就不会产生并发，效率又提升 N 倍。</li>
</ul>
</li>
</ul>
<h3 id="数据元素插入"><a href="#数据元素插入" class="headerlink" title="数据元素插入"></a>数据元素插入</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//arraycopy()这个实现数组之间复制的方法一定要看一下，下面就用到了arraycopy()方法实现数组自己复制自己</span></span><br><span class="line">System.arraycopy(elementData, index, elementData, index + <span class="number">1</span>, size - index);</span><br><span class="line">elementData[index] = element;</span><br></pre></td></tr></table></figure>



<h3 id="相关接口"><a href="#相关接口" class="headerlink" title="相关接口"></a>相关接口</h3><ul>
<li>RandomAccess接口<ul>
<li>数组天然支持快速随机访问，RandomAccess接口只是用于标识容器可快速访问以切换不同的遍历方法</li>
</ul>
</li>
<li>NavigableMap / NavigableSet 接口<ul>
<li>提供对集合内元素的搜索的能力</li>
</ul>
</li>
<li>Iterable接口</li>
<li>SortMap：对集合中的元素根据键排序的能力</li>
</ul>
<h3 id="无序性"><a href="#无序性" class="headerlink" title="无序性"></a>无序性</h3><p>什么是无序性？无序性不等于随机性 ，无序性是指存储的数据在底层数组中并非按照数组索引的顺序添加 ，而是根据数据的哈希值决定的。</p>
<h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><ol>
<li>红黑树和二叉查找树的对比</li>
<li>HashMap resize 扩容方法实现</li>
</ol>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a target="_blank" rel="noopener" href="https://gitee.com/SnailClimb/JavaGuide/blob/master/docs/java/collection/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98.md">docs/java/collection/Java集合框架常见面试题.md · SnailClimb/JavaGuide - Gitee.com</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://huangyuye.github.io/2021/05/09/Java/%E7%AC%94%E8%AE%B0/%E5%AE%B9%E5%99%A8/%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yuye Huang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HYY">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/Java/%E7%AC%94%E8%AE%B0/%E5%AE%B9%E5%99%A8/%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-09 15:52:56" itemprop="dateCreated datePublished" datetime="2021-05-09T15:52:56+00:00">2021-05-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1、什么是序列化与反序列化？"><a href="#1、什么是序列化与反序列化？" class="headerlink" title="1、什么是序列化与反序列化？"></a><strong>1、什么是序列化与反序列化？</strong></h2><ul>
<li><p>序列化：指把堆内存中的 Java 对象数据，通过某种方式把对象存储到磁盘文件中或者传递给其他网络节点（在网络上传输），这个过程称为序列化。通俗来说就是将数据结构或对象转换成二进制串的过程</p>
</li>
<li><p>反序列化：把磁盘文件中的对象数据或者把网络节点上的对象数据，恢复成Java对象模型的过程。也就是将在序列化过程中所生成的二进制串转换成数据结构或者对象的过程</p>
</li>
</ul>
<h2 id="2、为什么要做序列化？"><a href="#2、为什么要做序列化？" class="headerlink" title="2、为什么要做序列化？"></a><strong>2、为什么要做序列化？</strong></h2><ul>
<li><p>在分布式系统中，此时需要把对象在网络上传输，就得把对象数据转换为二进制形式，需要共享的数据的 JavaBean 对象，都得做序列化。</p>
</li>
<li><p>服务器钝化：如果服务器发现某些对象好久没活动了，那么服务器就会把这些内存中的对象持久化在本地磁盘文件中（Java对象转换为二进制文件）；如果服务器发现某些对象需要活动时，先去内存中寻找，找不到再去磁盘文件中反序列化我们的对象数据，恢复成 Java 对象。这样能节省服务器内存。</p>
</li>
</ul>
<h2 id="3、Java-怎么进行序列化？"><a href="#3、Java-怎么进行序列化？" class="headerlink" title="3、Java 怎么进行序列化？"></a><strong>3、Java 怎么进行序列化？</strong></h2><ul>
<li><p>需要做序列化的对象的类，必须实现序列化接口：Java.lang.Serializable 接口（这是一个标志接口，没有任何抽象方法），Java 中大多数类都实现了该接口，比如：String，Integer</p>
</li>
<li><p>底层会判断，如果当前对象是 Serializable 的实例，才允许做序列化，Java对象 <code>instanceof Serializable</code> 来判断。</p>
</li>
<li><p>在 Java 中使用对象流来完成序列化和反序列化</p>
</li>
</ul>
<p>　<strong>ObjectOutputStream</strong>：通过 writeObject()方法做序列化操作</p>
<p>　<strong>ObjectInputStream</strong>：通过 readObject() 方法做反序列化操作</p>
<p><img src="https://cdn.jsdelivr.net/gh/huangyuye/huangyuye.github.io@data/img/PhYVoF5wx8dElg4.png" alt="img"></p>
<h3 id="第一步：创建一个-JavaBean-对象"><a href="#第一步：创建一个-JavaBean-对象" class="headerlink" title="第一步：创建一个 JavaBean 对象"></a><strong>第一步：创建一个 JavaBean 对象</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person [name=&quot;</span> + name + <span class="string">&quot;, age=&quot;</span> + age + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="第二步：使用-ObjectOutputStream-对象实现序列化"><a href="#第二步：使用-ObjectOutputStream-对象实现序列化" class="headerlink" title="第二步：使用 ObjectOutputStream 对象实现序列化"></a><strong>第二步：使用 ObjectOutputStream 对象实现序列化</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在根目录下新建一个 io 的文件夹</span></span><br><span class="line">   OutputStream op = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;io&quot;</span>+File.separator+<span class="string">&quot;a.txt&quot;</span>); </span><br><span class="line">   ObjectOutputStream ops = <span class="keyword">new</span> ObjectOutputStream(op); </span><br><span class="line">   ops.writeObject(<span class="keyword">new</span> Person(<span class="string">&quot;vae&quot;</span>,<span class="number">1</span>));   </span><br><span class="line">ops.close();</span><br><span class="line"><span class="comment">// 我们打开 a.txt 文件，发现里面的内容乱码，注意这不需要我们来看懂，这是二进制文件，计算机能读懂就行了。</span></span><br></pre></td></tr></table></figure>



<p><strong>错误一：</strong>如果新建的 Person 对象没有实现 Serializable 接口，那么上面的操作会报错：</p>
<p><img src="D:\AppData\YoudaoNote\qqB53912A331D409871E525BE52BFB5C3B\c301f97fba5249a5b3f2e347f918bcb7\0-2013853053.png" alt="img"></p>
<h3 id="第三步：使用ObjectInputStream-对象实现反序列化"><a href="#第三步：使用ObjectInputStream-对象实现反序列化" class="headerlink" title="第三步：使用ObjectInputStream 对象实现反序列化"></a><strong>第三步：使用ObjectInputStream 对象实现反序列化</strong></h3><p><strong>反序列化的对象必须要提供该对象的字节码文件.class</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">InputStream in = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;io&quot;</span> + File.separator + <span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">   ObjectInputStream os = <span class="keyword">new</span> ObjectInputStream(in);</span><br><span class="line">   <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">10</span>];</span><br><span class="line">   <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">   Person p = (Person)os.readObject();</span><br><span class="line">   System.out.println(p);  <span class="comment">//Person [name=vae, age=1] os.close();</span></span><br></pre></td></tr></table></figure>



<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="如果某些数据不需要做序列化，比如密码，比如上面的年龄？"><a href="#如果某些数据不需要做序列化，比如密码，比如上面的年龄？" class="headerlink" title="如果某些数据不需要做序列化，比如密码，比如上面的年龄？"></a>如果某些数据不需要做序列化，比如密码，比如上面的年龄？</h3><p><strong>解决办法：</strong>在字段面前加上 transient</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> String name;<span class="comment">//需要序列化 </span></span><br><span class="line"><span class="keyword">transient</span> <span class="keyword">private</span> <span class="keyword">int</span> age;<span class="comment">//不需要序列化</span></span><br></pre></td></tr></table></figure>



<p>那么我们在反序列化的时候，打印出来的就是Person [name=vae, age=0]，整型数据默认值为 0 </p>
<h3 id="对象版本变化"><a href="#对象版本变化" class="headerlink" title="对象版本变化"></a>对象版本变化</h3><p><strong>在完成序列化操作后，由于项目的升级或修改，可能我们会对序列化对象进行修改，比如增加某个字段，那么我们在进行反序列化就会报错：</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/huangyuye/huangyuye.github.io@data/img/28-918255453.png" alt="img"></p>
<p><img src="D:\AppData\YoudaoNote\qqB53912A331D409871E525BE52BFB5C3B\8d3a27ce65024caeaf3cb59bda842a17\5-1053058670.png" alt="img"></p>
<p><strong>解决办法：</strong>在 JavaBean 对象中增加一个 serialVersionUID 字段，用来固定这个版本，无论我们怎么修改，版本都是一致的，就能进行反序列化了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">8656128222714547171L</span>;</span><br></pre></td></tr></table></figure>



<p>后面反序列化出来的对象属性以最新版本的为准。</p>
<p>而txt文件中的内容不会变，仍然仅记录的最初始的对象，而反序列化，会根据版本号，找到当前最新的对象（版本号已经固定不变，会根据版本号去找；）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://huangyuye.github.io/2021/05/09/Java/%E7%AC%94%E8%AE%B0/%E5%AE%B9%E5%99%A8/%E9%9B%86%E5%90%88%E5%B7%A5%E5%85%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yuye Huang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HYY">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/Java/%E7%AC%94%E8%AE%B0/%E5%AE%B9%E5%99%A8/%E9%9B%86%E5%90%88%E5%B7%A5%E5%85%B7/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-09 15:52:56" itemprop="dateCreated datePublished" datetime="2021-05-09T15:52:56+00:00">2021-05-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Collections"><a href="#Collections" class="headerlink" title="Collections"></a>Collections</h2><h2 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h2><h2 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://huangyuye.github.io/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/20201107/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yuye Huang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HYY">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/20201107/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-09 15:52:56" itemprop="dateCreated datePublished" datetime="2021-05-09T15:52:56+00:00">2021-05-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">知识库</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/Java/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">算法与数据结构</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="算法与数据结构"><a href="#算法与数据结构" class="headerlink" title="算法与数据结构"></a>算法与数据结构</h1><h2 id="算法与数据结构常见问题场景"><a href="#算法与数据结构常见问题场景" class="headerlink" title="算法与数据结构常见问题场景"></a>算法与数据结构常见问题场景</h2><ol>
<li>字符串匹配<ol>
<li>暴力匹配（回溯匹配，回溯次数多，速度慢）</li>
<li>KMP算法（ -&gt; 建立部分匹配表）</li>
</ol>
</li>
<li>汉诺塔问题（大方块不能在小方块下面）</li>
<li>八皇后问题：92种算法</li>
<li>马踏棋盘算法（骑士周游算法）</li>
</ol>
<h2 id="数据结构和算法的关系"><a href="#数据结构和算法的关系" class="headerlink" title="数据结构和算法的关系"></a>数据结构和算法的关系</h2><p>数据结构是<strong>研究组织数据方式</strong>的学科</p>
<p>数据结构是算法的基础</p>
<p><strong>数据结构包括：线性结构/非线性结构</strong></p>
<h3 id="线性结构"><a href="#线性结构" class="headerlink" title="线性结构"></a>线性结构</h3><ol>
<li>数据元素之间存在一对一线性关系</li>
<li>两种不同的存储结构：<strong>顺序存储结构&amp;链式存储和结构</strong> (数组&amp;链表)——元素节点中存放数据元素及相邻元素的地址信息不连续</li>
<li>常见的线性结构有：数组、队列、链表和栈</li>
</ol>
<h3 id="非线性结构"><a href="#非线性结构" class="headerlink" title="非线性结构"></a>非线性结构</h3><ol>
<li>数组元素之间不是一对一的线性关系</li>
<li>场景的非线性结构：多维数组、广义表、树结构、图结构</li>
</ol>
<h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><h3 id="稀疏数组（sparse-array）"><a href="#稀疏数组（sparse-array）" class="headerlink" title="稀疏数组（sparse array）"></a>稀疏数组（sparse array）</h3><p><strong>场景：</strong></p>
<p>编写五子棋程序，且有存盘和续上盘的功能；</p>
<p><strong>问题：</strong></p>
<p>使用二维数组记录棋盘，存在很多值为0的元素</p>
<p><strong>稀疏数组介绍：</strong></p>
<p>当一个数组中大部分元素为0，或者为同一个值的数组时，可以使用稀疏数组来表示</p>
<p><strong>使用稀疏数组的处理方法：</strong></p>
<p>1、第一行记录一共有几行几列，有多少个不同得值</p>
<p>2、把具有不同值得行列及值记录在一个小规模得数组中，从而缩小程序的规模</p>
<h3 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h3><p>队列是一个有序列表，可以用数组或链表来实现</p>
<p>遵循先进先出的原则</p>
<p><strong>使用数组模拟队列：</strong></p>
<p>保存两个变量-front &amp; rear （头尾的下标）；maxSize为数组容量，若rear=maxSize-1则队列满（front和rear从-1/0开始）（front：指向队列头的前一个位置；rear指向队列尾最后一个位置）; front=rear则队列为空</p>
<p><strong>问题：</strong></p>
<p>单向队列：数组使用一次就不能用，没有达到复用效果</p>
<p><strong>解决方案：</strong>改为环形队列</p>
<p><strong>环形队列调整思路：</strong></p>
<ol>
<li><p>front指向队列的第一个元素；front初始值为0</p>
</li>
<li><p>rear指向队列的最后一个元素的后一个位置；rear初始值为0</p>
</li>
<li><p>判断队列满的条件为：(rear+1)%maxSize=front</p>
</li>
<li><p>队列中有效的数据个数：(rear + maxSize - front) % maxSize  （为什么要+maxSize？因为是环形队列，rear的下标有可能小于front的下标，这里是为了避免为负数）</p>
</li>
</ol>
<h3 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h3><p>链表是有序的列表，内存不一定连续；每个节点包含data域，next域</p>
<p>可区分为有头节点或无头节点的链表</p>
<p><strong>链表排序</strong></p>
<p>新增节点时进行排序：遍历链表，找到新添加节点的位置（<strong>遍历，比较节点的值，直到遍历节点的值大于待插入节点的值</strong>），将新节点的next指向插入位置的节点的next，将插入位置的节点的next指向新节点。</p>
<p><strong>遍历链表节点逻辑</strong></p>
<p>使用辅助变量，从head节点开始，通过next指向遍历</p>
<p><strong>排序和限制重复的思考</strong></p>
<ol>
<li>若要支持排序，则定义比较大小的规则，如实现comparable接口重写compare方法</li>
<li>若要支持更新或者唯一限制，则要定义节点判断唯一的规则，如重写equals方法(以及hashcode())</li>
</ol>
<p><strong>链表反转</strong></p>
<ol>
<li>创建一个新的头节点 newHead</li>
<li>遍历原链表,<ol>
<li>temp辅助变量记录newHead.next</li>
<li>每次遍历都将 newHead指向遍历的节点node，遍历的节点node.next指向原先newHead的next，即temp（可使用辅助变量）</li>
</ol>
</li>
</ol>
<p>其他方案：可以使用临时数组  </p>
<p><strong>链表逆序打印</strong></p>
<p>实现思路1：利用栈<strong>先进后出</strong>特性</p>
<p><strong>栈</strong></p>
<p>栈的底层实现是数组，父类是Vector矢量类</p>
<p><strong>应用场景</strong></p>
<p><strong>单向环形链表</strong>——约瑟夫环问题（丢手帕）</p>
<p>单向环形链表：最后一个节点的next指向头节点</p>
<p>丢手帕报数过程：head和tail指针同时移动，报数出队时，head节点修改，且tail节点的next指针指向新的head节点。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ... 其他参数校验</span></span><br><span class="line"><span class="comment">// 遍历</span></span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (tail == head) &#123;</span><br><span class="line">    	<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m-<span class="number">1</span>; i++) &#123;</span><br><span class="line">		tail = tail.next;</span><br><span class="line">		first = first.next;</span><br><span class="line">	&#125;</span><br><span class="line">	sout(first);</span><br><span class="line">	first=first.next;</span><br><span class="line">	tail.next=first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h3><p>栈是一个先进后出的有序列表(FILO first in last out)</p>
<p>栈是限制线性表中元素的插入和删除只能在线性表的同一端进行操作的一种特殊线性表。允许插入和删除的一端为变化端，即栈顶。另一端为栈底。</p>
<p><strong>应用场景</strong></p>
<ul>
<li>子程序的调用</li>
<li>处理递归调用</li>
<li>表达式的转换[中缀表达式转后缀表达式]与求值</li>
<li>二叉树的遍历</li>
<li>图形的深度优先搜索法</li>
</ul>
<p><strong>需求场景</strong></p>
<p>前端输入一个表达式，编写一个函数进行计算：String str = 7*2</p>
<p>栈的应用场景、实现原理、<strong>实现计算器</strong></p>
<p><strong>实现计算器</strong></p>
<p>两个栈，一个存放数，一个存放操作符，遍历字符时若当前字符是操作符，则判断优先级是否小于或等于操作符栈的上一个操作符，是的话则从数栈pop出两个数，从操作符栈pop出一个符号进行计算，然后将当前的符号入符号栈；否则直接入符号栈（中缀表达式）</p>
<h3 id="前缀-amp-中缀-amp-后缀表达式"><a href="#前缀-amp-中缀-amp-后缀表达式" class="headerlink" title="前缀&amp;中缀&amp;后缀表达式"></a>前缀&amp;中缀&amp;后缀表达式</h3><p>前缀表达式：运算符位于操作符之前</p>
<h3 id="双向链表"><a href="#双向链表" class="headerlink" title="双向链表"></a>双向链表</h3><p>双向链表同时记录了头尾节点，且每个节点增加prev上一节点引用指针</p>
<h2 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h2><h3 id="算法-递归"><a href="#算法-递归" class="headerlink" title="算法-递归"></a>算法-递归</h3><p>应用场景：阶乘、迷宫问题（回溯）、八皇后问题</p>
<h3 id="算法-排序"><a href="#算法-排序" class="headerlink" title="算法-排序"></a>算法-排序</h3><p>将一组数组，依据指定顺序进行排列的过程</p>
<p><strong>排序的分类</strong></p>
<ul>
<li><p>内部排序（使用内部存储进行排序）</p>
</li>
<li><p>外部排序（数据量大时使用外部存储进行排序）</p>
</li>
</ul>
<p><strong>内部排序分为</strong></p>
<ul>
<li>插入排序<ul>
<li><strong>直接插入排序</strong></li>
<li>希尔排序</li>
</ul>
</li>
<li>选择排序<ul>
<li><strong>简单排序</strong></li>
<li>堆排序</li>
</ul>
</li>
<li>交换排序<ul>
<li><strong>冒泡排序</strong></li>
<li>快速排序</li>
</ul>
</li>
<li>归并排序</li>
<li>基数排序（桶排序的升级）</li>
</ul>
<p><strong>度量程序、算法执行时间的两种方法</strong></p>
<ul>
<li>事后统计法（需要实际运行；依赖于软硬件等环境因素）</li>
<li>事前估算法：通过分析某算法的<strong>时间复杂度</strong>来判断</li>
</ul>
<h4 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h4><p><strong>时间频度</strong> T(n)：一个算法</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://huangyuye.github.io/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E8%BF%90%E7%BB%B4/docker/docker-%E6%95%B0%E6%8D%AE%E5%8D%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yuye Huang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HYY">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/%E8%BF%90%E7%BB%B4/docker/docker-%E6%95%B0%E6%8D%AE%E5%8D%B7/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-09 15:52:56" itemprop="dateCreated datePublished" datetime="2021-05-09T15:52:56+00:00">2021-05-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">知识库</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/%E7%9F%A5%E8%AF%86%E5%BA%93/docker/" itemprop="url" rel="index"><span itemprop="name">docker</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/sparkdev/p/6216154.html">Docker 基础 : 数据管理</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/sparkdev/p/8504050.html">Docker 数据卷之进阶篇</a></li>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAwNTMxMzg1MA==&mid=2654075892&idx=7&sn=616d544f2b09f2a68620ba047ec4476a">你必须知道的Docker数据卷</a></li>
</ul>
<h2 id="docker-容器内的数据管理"><a href="#docker-容器内的数据管理" class="headerlink" title="docker 容器内的数据管理"></a>docker 容器内的数据管理</h2><p>在使用容器的过程中，会有几个常见的场景，如查看容器内应用产生的数据，或者想要快速修改容器中应用的某个配置文件，除了进入容器进行操作这种方式，还有什么高效的方法吗？若容器被删除，容器内的数据也被删除怎么办？</p>
<p>这就又涉及一个问题，容器是如果对容器内数据进行管理的？</p>
<p>目前Docker提供了三种不同的方式将数据从宿主机挂载到容器中：</p>
<ul>
<li><strong>volumes：</strong>Docker管理宿主机文件系统的一部分，默认位于 /var/lib/docker/volumes 目录中；（<strong>最常用的方式</strong>）</li>
<li><strong>bind mounts：</strong>可以存储在宿主机系统的任意位置；（<strong>比较常用的方式</strong>）但是，bind mount在不同的宿主机系统时不可移植的，这也是为什么bind mount不能出现在Dockerfile中的原因。</li>
<li><strong>tmpfs：</strong>挂载存储在宿主机系统的内存中，而不会写入宿主机的文件系统；（<strong>一般都不会用的方式</strong>）</li>
</ul>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/fCpd1cf8iacYo0R2ok1kmV4OFXzx0iajS0c2OjpyFKW3s3ib1zMiceU8RT3xdWf3rwaY0x6iaf9rJcUPF4qNa699Pvw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<h3 id="数据卷"><a href="#数据卷" class="headerlink" title="数据卷"></a>数据卷</h3><p>数据卷是一个可供容器使用的特殊目录，它绕过文件系统（?），而通过挂载宿主机文件系统目录的方式，可以提供很多有用的特性：</p>
<ol>
<li>数据卷可以在容器之间共享和重用。</li>
<li>对数据卷的更改会立即生效。</li>
<li>对数据卷的更新不会影响镜像。</li>
<li>数据卷会一直存在，直到没有容器使用。</li>
</ol>
<p>数据卷的使用，类似于 linux 下对目录或文件进行 mount 操作。</p>
<ul>
<li><p>一般情况下，每个容器都会有自己的数据卷，而从同一镜像创建出来的容器的数据卷的标识都不一样。</p>
<ul>
<li>通过<code>docker inspect</code>可查看容器的数据卷—volume：mounts列表中<code>type=&quot;volume&quot;</code>的元素即docker数据卷，默认Name为该数据卷的名称，<code>Destination</code> 为挂载到容器的文件夹路径，可以通过<code>docker volume ls</code> 查看到对应的数据卷</li>
<li>使用 <code>docker volume prune</code> 删除未被容器使用的数据卷</li>
</ul>
</li>
<li><p>容器的数据卷在容器移除后还存在于宿主机文件系统中，可以在下一次创建容器时挂载并复用。</p>
</li>
<li><p>测试<strong>数据卷数据共享</strong>：</p>
<ul>
<li>运行 activemq 容器（<strong>activemq1</strong>），<code>docker inspect activemq</code> 查看容器的数据卷，将挂载到 <code>/opt/activemq/conf</code> 容器文件夹的数据卷的 Name复制下来，假设为 <code>$&#123;activemq-conf-volume-name&#125;</code></li>
<li><code>docker volume ls</code>可以列出所有的docker 数据卷，其中可以看到名为 <code>$&#123;activemq-conf-volume-name&#125;</code>的数据卷</li>
<li>进入容器（<strong>activemq1</strong>），修改 <code>/opt/activemq/conf</code> 文件夹下的<code>activemq.xml</code> 文件，随便加下任何注释内容，如<code>&lt;!-- test docker-volume --&gt; </code></li>
<li>退出容器，运行新的activemq容器（<strong>activemq2</strong>），并将docker数据卷挂载到新的容器中 <ul>
<li>-v <code>$&#123;activemq-conf-volume-name&#125;</code>:/opt/activemq/conf</li>
</ul>
</li>
<li>进入容器（<strong>activemq2</strong>），查看 <code>/opt/activemq/conf</code> 文件夹下的<code>activemq.xml</code> 文件，可以看到在容器 <strong>activemq1</strong>写入的注释 <code>&lt;!-- test docker-volume --&gt; </code></li>
</ul>
</li>
<li><p>与volumes不同，bind mounts的方式会隐藏掉被挂载目录里面的内容（如果非空的话）</p>
</li>
<li><p>同volumes一样，当我们清理掉容器之后，挂载目录里面的文件仍然还在，不会随着容器的结束而消失，从而实现数据持久化</p>
</li>
</ul>
<h3 id="在容器内创建一个数据卷"><a href="#在容器内创建一个数据卷" class="headerlink" title="在容器内创建一个数据卷"></a>在容器内创建一个数据卷</h3><p>在用 docker run 命令的时候，使用 -v 标记可以在容器内创建一个数据卷。多次使用 -v 标记可以创建多个数据卷。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> docker inspect 查看容器信息，以下是磁盘挂载，包含两种类型：<span class="string">&quot;bind&quot;</span> or <span class="string">&quot;volume&quot;</span></span></span><br><span class="line">&quot;Mounts&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Type&quot;: &quot;volume&quot;, # 容器内数据卷 可以使用 docker run -v $&#123;容器内文件夹绝对路径&#125; 生成容器数据卷，以下数据卷是activemq容器默认的数据卷，用于存放容器内应用产生的日志数据</span><br><span class="line">        &quot;Name&quot;: &quot;191d97917ffb20b8e64d969762f5d47a3198ccd74d8d45aa4b9ac4364c6bc8e4&quot;,</span><br><span class="line">        &quot;Source&quot;: &quot;/var/lib/docker/volumes/191d97917ffb20b8e64d969762f5d47a3198ccd74d8d45aa4b9ac4364c6bc8e4/_data&quot;,</span><br><span class="line">        &quot;Destination&quot;: &quot;/var/log/activemq&quot;,</span><br><span class="line">        &quot;Driver&quot;: &quot;local&quot;,</span><br><span class="line">        &quot;Mode&quot;: &quot;&quot;,</span><br><span class="line">        &quot;RW&quot;: true,</span><br><span class="line">        &quot;Propagation&quot;: &quot;&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<h3 id="挂载一个主机目录作为数据卷"><a href="#挂载一个主机目录作为数据卷" class="headerlink" title="挂载一个主机目录作为数据卷"></a>挂载一个主机目录作为数据卷</h3><p>使用 -v 标记也可以指定挂载一个本地的已有目录到容器中去作为数据卷：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> docker inspect 查看容器信息，以下是磁盘挂载，包含两种类型：<span class="string">&quot;bind&quot;</span> or <span class="string">&quot;volume&quot;</span></span></span><br><span class="line">&quot;Mounts&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Type&quot;: &quot;bind&quot;, # 映射宿主机磁盘目录 docker run -v $&#123;宿主机文件夹绝对路径&#125;:$&#123;容器内文件夹绝对路径&#125;:ro 挂载一个宿主机目录作为数据卷（如果目录不存在，Docker 会自动创建（需要考确认docker用户权限））</span><br><span class="line">        # 加了 :ro 之后，容器内挂载的数据卷内的数据就变成只读的了。</span><br><span class="line">        &quot;Source&quot;: &quot;/run/desktop/mnt/host/d/WorkSpace/docker/webdata&quot;,</span><br><span class="line">        &quot;Destination&quot;: &quot;/webdata&quot;,</span><br><span class="line">        &quot;Mode&quot;: &quot;&quot;,</span><br><span class="line">        &quot;RW&quot;: true,</span><br><span class="line">        &quot;Propagation&quot;: &quot;rprivate&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><h3 id="docker-run-P-p"><a href="#docker-run-P-p" class="headerlink" title="docker run -P/-p"></a>docker run -P/-p</h3><p>当使用 -P 标记时，Docker 会随机映射一个 <code>49000~49900</code> 的端口到内部容器开放的网络端口。<br>使用 <code>docker ps</code> 可以看到，本地主机的 49155 被映射到了容器的 5000 端口。此时访问本机的 49155 端口即可访问容器内 web 应用提供的界面。</p>
<p>-p（小写）则可以指定要映射的IP和端口，但是在一个指定端口上只可以绑定一个容器。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">yuye Huang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">53</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/huangyuye" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;huangyuye" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:747776824@qq.com" title="E-Mail → mailto:747776824@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.yuque.com/huangyuye/qzf3af" title="https:&#x2F;&#x2F;www.yuque.com&#x2F;huangyuye&#x2F;qzf3af" rel="noopener" target="_blank">语雀</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yuye Huang</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
